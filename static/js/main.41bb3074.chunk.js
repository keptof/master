(this["webpackJsonptodo-list"]=this["webpackJsonptodo-list"]||[]).push([[0],{45:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var r,a,c,o,i,s,d,u=n(0),l=n.n(u),b=n(22),j=n.n(b),p=(n(45),n(15)),O=n(19),h=n(12),x=n(13),m=n(7),f=n(8),g=f.a.div(r||(r=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  & > * {\n    margin-left: 12px;\n  }\n"]))),v=f.a.div(a||(a=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 20px;\n  height: 20px;\n\n  img {\n    filter: invert(73%) sepia(8%) saturate(556%) hue-rotate(345deg)\n      brightness(89%) contrast(89%);\n  }\n"]))),w=f.a.div(c||(c=Object(m.a)(["\n  ","\n  display: flex;\n  align-items: center;\n  font-size: 16px;\n  margin: 12px 0;\n"])),(function(e){return e.completed&&"\n    text-decoration: line-through;\n    opacity: 0.6;\n    color: #ccb699;\n    "})),k=f.a.div(o||(o=Object(m.a)(["\n  word-break: break-all;\n  margin-bottom: 12px;\n"]))),A=f.a.div(i||(i=Object(m.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 450px;\n  min-height: 50px;\n  padding: 0 20px;\n  margin: 10px 0;\n  border: 1px solid #7b542d;\n  border-radius: 15px;\n  color: #d7ccc8;\n"]))),y=f.a.div(s||(s=Object(m.a)([""]))),E=n(9);!function(e){e.FetchTodo="fetchTodo",e.SetTodo="setTodo",e.AddTodoAPI="addTodoAPI",e.AddTodoUI="addTodoUI",e.RemoveTodoAPI="removeTodoAPI",e.RemoveTodoUI="removeTodoUI",e.CompletedTodoAPI="completedTodoAPI",e.CompletedTodoUI=" completedTodoUI"}(d||(d={}));var S,I,T,L,C,P,U,z,N,F,R,B,_,M,D,J,H,X,G=Object(E.createAction)(d.FetchTodo)(),W=Object(E.createAction)(d.SetTodo)(),V=Object(E.createAction)(d.AddTodoAPI)(),Y=Object(E.createAction)(d.AddTodoUI)(),q=Object(E.createAction)(d.RemoveTodoAPI)(),K=Object(E.createAction)(d.RemoveTodoUI)(),Q=Object(E.createAction)(d.CompletedTodoAPI)(),Z=Object(E.createAction)(d.CompletedTodoUI)(),$=n.p+"static/media/delete.e20e764e.svg",ee=n(1),te=function(e){var t=e.todo,n=Object(p.b)(),r=Object(u.useState)(!1),a=Object(x.a)(r,2),c=a[0],o=a[1];return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsxs)(A,{children:[Object(ee.jsxs)(y,{children:[Object(ee.jsx)(w,{completed:t.completed,onClick:function(){o((function(e){return!e}))},"data-testid":"title",children:t.name}),c&&Object(ee.jsx)(k,{"data-testid":"description",children:t.description})]}),Object(ee.jsxs)(g,{children:[Object(ee.jsx)(v,{children:Object(ee.jsx)("input",{type:"checkbox",checked:t.completed,onChange:function(){n(Q({id:t.id,completed:!t.completed}))},"data-testid":"checkbox"})}),Object(ee.jsx)(v,{children:Object(ee.jsx)("img",{src:"".concat($),alt:"#",onClick:function(){n(q({id:t.id}))},"data-testid":"btn"})})]})]})})},ne=f.a.button(S||(S=Object(m.a)(["\n  width: 100px;\n  height: 30px;\n  border-radius: 12px;\n  color: #d7ccc8;\n  background: linear-gradient(rgba(0, 0, 0, 0.65), rgba(0, 0, 0, 0.65));\n  ","\n"])),(function(e){return e.disabled&&"\n    opacity: 0.55;\n    "})),re=f.a.div(I||(I=Object(m.a)(["\n  width: 100%;\n  height: 100%;\n  opacity: 0.5;\n  background-color: #000;\n  position: absolute;\n  top: 0;\n  left: 0;\n"]))),ae=f.a.div(T||(T=Object(m.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translateX(-50%) translateY(-50%);\n  min-width: 300px;\n  padding: 20px 22px;\n  box-sizing: border-box;\n  background: transparent;\n  border: 1px solid #7b542d;\n  border-radius: 15px;\n  background: linear-gradient(rgba(0, 0, 0, 0.55), rgba(0, 0, 0, 0.55));\n"]))),ce=f.a.div(L||(L=Object(m.a)([""]))),oe=f.a.div(C||(C=Object(m.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin-top: 20px;\n"]))),ie=f.a.button(P||(P=Object(m.a)(["\n  padding: 0;\n  margin-left: 4px;\n  cursor: pointer;\n  background: none;\n  border: none;\n  outline: none;\n  position: absolute;\n  top: 12px;\n  right: 12px;\n\n  img {\n    width: 16px;\n    height: 16px;\n    filter: invert(73%) sepia(8%) saturate(556%) hue-rotate(345deg)\n      brightness(89%) contrast(89%);\n  }\n"]))),se=n.p+"static/media/kofe.b9026e49.jpg",de=n.p+"static/media/andrew-neel-cckf4TsHAuw-unsplash.9ca46641.jpg",ue=f.a.div(U||(U=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 25px;\n  height: 25px;\n  color: aliceblue;\n  filter: invert(73%) sepia(8%) saturate(556%) hue-rotate(345deg)\n    brightness(89%) contrast(149%);\n"]))),le=f.a.div(z||(z=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 26px;\n  height: 60px;\n  color: #ffffffb2;\n  border-radius: 12px;\n  background: linear-gradient(rgba(0, 0, 0, 0.55), rgba(0, 0, 0, 0.55));\n"]))),be=f.a.span(N||(N=Object(m.a)(["\n  font-size: 34px;\n  color: #b1a296;\n"]))),je=f.a.div(F||(F=Object(m.a)(["\n  height: 100vh;\n  background-size: auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-image: linear-gradient(rgba(0, 0, 0, 0.45), rgba(0, 0, 0, 0.45)),\n    url(",");\n  color: white;\n"])),"".concat(se)),pe=f.a.form(R||(R=Object(m.a)(["\n  label {\n    margin-right: 12px;\n  }\n  color: white;\n"]))),Oe=f.a.div(B||(B=Object(m.a)(["\n  height: 100vh;\n  background-size: cover;\n  background-image: url(",");\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  & > * {\n    padding: 12px;\n  }\n"])),"".concat(de)),he=f.a.p(_||(_=Object(m.a)(["\n  color: white;\n"]))),xe=n(11),me=f.a.input(M||(M=Object(m.a)(["\n  padding: 5px 10px;\n  color: white;\n  border-radius: 10px;\n  background-color: rgba(255, 224, 236, 0.15);\n\n  &:focus::placeholder {\n    opacity: 0;\n    transition: opacity 0.7s ease;\n  }\n"]))),fe=f.a.textarea(D||(D=Object(m.a)(["\n  padding: 5px 10px;\n  color: white;\n  border-radius: 10px;\n  background-color: rgba(255, 224, 236, 0.15);\n  width: 250px;\n  height: 90px;\n"]))),ge=f.a.div(J||(J=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n\n  & > * {\n    margin-top: 12px;\n  }\n"]))),ve=f.a.div(H||(H=Object(m.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px 18px;\n"]))),we=p.c,ke=function(e){var t=we((function(e){return e.todos})),n=Object(p.b)(),r=Object(u.useState)({name:"",description:""}),a=Object(x.a)(r,2),c=a[0],o=a[1],i=Object(u.useState)(!1),s=Object(x.a)(i,2),d=s[0],l=s[1],b=Object(u.useState)(!1),j=Object(x.a)(b,2),O=j[0],h=j[1];return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("form",{onSubmit:function(r){if(r.preventDefault(),c.name&&c.description)if(function(e,t){return e.some((function(e){return e.name===t}))}(t,c.name))l(!0),h(!1);else{var a={name:c.name,description:c.description,completed:!1};n(V(a)),e.onTodoAdded(!1)}else h(!0),l(!1);o({name:"",description:""})},"data-testid":"form",children:Object(ee.jsxs)(ge,{children:[Object(ee.jsx)(me,{placeholder:"Enter the title",value:c.name,"data-testid":"input",onChange:function(e){o(Object(xe.a)(Object(xe.a)({},c),{},{name:e.target.value}))}}),Object(ee.jsx)(fe,{placeholder:"Enter the description",value:c.description,"data-testid":"textarea",onChange:function(e){o(Object(xe.a)(Object(xe.a)({},c),{},{description:e.target.value}))}}),Object(ee.jsx)(ne,{type:"submit","data-testid":"btn",children:"Add Todo"})]})}),d&&Object(ee.jsx)("p",{"data-testid":"warningToPlan",children:Object(ee.jsx)("strong",{children:"We have the same plan already!"})}),O&&Object(ee.jsx)("p",{"data-testid":"emptyFieldWarning",children:Object(ee.jsx)("strong",{children:"Please fill in all the lines!"})})]})};!function(e){e.EmailError="emailError",e.PasswordError="passwordError",e.RestError="restError"}(X||(X={}));var Ae,ye=Object(E.createAction)(X.EmailError)(),Ee=Object(E.createAction)(X.PasswordError)(),Se=Object(E.createAction)(X.RestError)();!function(e){e.LoginUserAPI="loginUserAPI",e.RegistrationUserAPI="RegistrationUser",e.LogOutUser="logOutUser",e.IsAuthorizationUser="isAuthorizationUser",e.IsNotAuthorizationUser="IsNotAuthorizationUser"}(Ae||(Ae={}));var Ie,Te,Le,Ce,Pe,Ue=Object(E.createAction)(Ae.IsAuthorizationUser)(),ze=Object(E.createAction)(Ae.IsNotAuthorizationUser)(),Ne=Object(E.createAction)(Ae.LoginUserAPI)(),Fe=Object(E.createAction)(Ae.RegistrationUserAPI)(),Re=Object(E.createAction)(Ae.LogOutUser)(),Be=n.p+"static/media/cross.d69dc0db.svg",_e=function(e){var t=e.onCloseButtonClick,n=e.children,r=function(e){"Escape"===e.code&&t(!1)};Object(u.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(re,{}),Object(ee.jsxs)(ae,{children:[Object(ee.jsx)(ie,{onClick:function(){t(!1)},"data-testid":"close",children:Object(ee.jsx)("img",{src:"".concat(Be),alt:"*"})}),Object(ee.jsx)(ce,{"data-testid":"body",children:n})]})]})},Me=n.p+"static/media/crossAdd.becc4e0d.svg",De=function(){var e=Object(p.b)(),t=we((function(e){return e})),n=t.todos,r=t.error,a=t.isNotAuthorizationUser,c=Object(u.useState)(!1),o=Object(x.a)(c,2),i=o[0],s=o[1];Object(u.useEffect)((function(){return null===localStorage.getItem("token")?e(ze({isNotAuthorization:!0})):e(G()),function(){e(ze({isNotAuthorization:!1}))}}),[e]);return Object(ee.jsxs)(je,{children:[a&&Object(ee.jsx)(h.a,{to:"/master/login"}),Object(ee.jsxs)("div",{children:[Object(ee.jsxs)(le,{"data-testid":"header",children:[Object(ee.jsxs)(be,{children:["Hello ",localStorage.getItem("userName")]}),", what are you up to ?"]}),n.map((function(e){return Object(ee.jsx)(te,{todo:e},e.id)})),Object(ee.jsxs)(oe,{children:[Object(ee.jsx)(ne,{onClick:function(){e(Re())},children:"LogOut"}),Object(ee.jsx)(ue,{onClick:function(){s(!0)},children:Object(ee.jsx)("img",{src:"".concat(Me),alt:"#"})})]}),i&&Object(ee.jsx)(_e,{onCloseButtonClick:function(e){s(e)},children:Object(ee.jsx)(ke,{onTodoAdded:function(e){s(e)}})}),r.restError&&Object(ee.jsx)(_e,{onCloseButtonClick:function(){e(Se({restError:""}))},children:Object(ee.jsx)(he,{children:r.restError})})]})]})},Je=function(){Object(u.useEffect)((function(){return localStorage.getItem("token")&&e(Ue({isAuthorization:!0})),function(){e(Se({restError:""})),e(Ue({isAuthorization:!1}))}}),[]);var e=Object(p.b)(),t=we((function(e){return e})),n=t.error,r=t.isAuthorizationUser,a=Object(u.useState)(!1),c=Object(x.a)(a,2),o=c[0],i=c[1],s=Object(u.useState)(!1),d=Object(x.a)(s,2),l=d[0],b=d[1],j=Object(u.useState)({email:"",password:""}),m=Object(x.a)(j,2),f=m[0],g=m[1],v=Object(u.useMemo)((function(){return f.email.length<7}),[f.email]),w=Object(u.useMemo)((function(){return f.password.length<7}),[f.password]);return Object(ee.jsxs)(Oe,{children:[r&&Object(ee.jsx)(h.a,{to:"/master/todos"}),Object(ee.jsxs)(pe,{onSubmit:function(t){t.preventDefault();var n={email:f.email,password:f.password};e(Ne(n)),g({email:"",password:""})},children:[Object(ee.jsxs)(ve,{children:[Object(ee.jsx)("label",{htmlFor:"email",children:"Email"}),Object(ee.jsx)(me,{type:"email",name:"email",placeholder:"email",id:"email",value:f.email,onBlur:function(){i(!!v)},onChange:function(e){return g(Object(xe.a)(Object(xe.a)({},f),{},{email:e.target.value}))},"data-testid":"email"})]}),o&&Object(ee.jsx)(he,{children:"Email must be at least 7 characters long"}),n.emailError&&Object(ee.jsx)(he,{children:n.emailError}),Object(ee.jsxs)(ve,{children:[Object(ee.jsx)("label",{htmlFor:"password",children:"Password"}),Object(ee.jsx)(me,{type:"password",placeholder:"Password",id:"password",onChange:function(e){return g(Object(xe.a)(Object(xe.a)({},f),{},{password:e.target.value}))},value:f.password,onBlur:function(){b(!!w)},"data-testid":"inputPassword"})]}),l&&Object(ee.jsx)(he,{children:"Password must be at least 7 characters long"}),n.passwordError&&Object(ee.jsx)(he,{children:n.passwordError}),Object(ee.jsxs)(oe,{children:[Object(ee.jsx)(ne,{type:"submit",disabled:v||w,"data-testid":"btn",children:"Login"}),Object(ee.jsx)(O.b,{to:"/registration",children:Object(ee.jsx)(ne,{children:"go register"})})]}),n.restError&&Object(ee.jsx)(_e,{onCloseButtonClick:function(){e(Se({restError:""}))},children:Object(ee.jsx)(he,{children:n.restError})})]})]})},He=function(){Object(u.useEffect)((function(){return localStorage.getItem("token")&&g(Ue({isAuthorization:!0})),function(){g(Se({restError:""})),g(Ue({isAuthorization:!1}))}}),[]);var e=we((function(e){return e})),t=e.error,n=e.isAuthorizationUser,r=Object(u.useState)(!1),a=Object(x.a)(r,2),c=a[0],o=a[1],i=Object(u.useState)(!1),s=Object(x.a)(i,2),d=s[0],l=s[1],b=Object(u.useState)(!1),j=Object(x.a)(b,2),m=j[0],f=j[1],g=Object(p.b)(),v=Object(u.useState)({email:"",name:"",password:""}),w=Object(x.a)(v,2),k=w[0],A=w[1],y=Object(u.useMemo)((function(){return k.email.length<7}),[k.email]),E=Object(u.useMemo)((function(){return k.password.length<7}),[k.password]),S=Object(u.useMemo)((function(){return k.name.length<2}),[k.name]),I=Object(u.useMemo)((function(){return y||E||S}),[y,E,S]);return Object(ee.jsxs)(Oe,{children:[n&&Object(ee.jsx)(h.a,{to:"/master/todos"}),Object(ee.jsxs)(pe,{onSubmit:function(e){e.preventDefault();var t={email:k.email,name:k.name,password:k.password};g(Fe(t)),A({email:"",name:"",password:""})},children:[Object(ee.jsxs)(ve,{children:[Object(ee.jsx)("label",{htmlFor:"name",children:"User Name"}),Object(ee.jsx)(me,{placeholder:"user name",id:"name",value:k.name,onChange:function(e){A(Object(xe.a)(Object(xe.a)({},k),{},{name:e.target.value}))},onBlur:function(){f(!!S)},"data-testid":"nameInput"})]}),m&&Object(ee.jsx)(he,{children:"Name must be at least 2 characters long"}),Object(ee.jsxs)(ve,{children:[Object(ee.jsx)("label",{htmlFor:"email",children:"Email"}),Object(ee.jsx)(me,{type:"email",placeholder:"email",id:"email",value:k.email,onChange:function(e){A(Object(xe.a)(Object(xe.a)({},k),{},{email:e.target.value}))},onBlur:function(){o(!!y)},"data-testid":"emailInput"})]}),c&&Object(ee.jsx)(he,{children:"Email must be at least 7 characters long"}),t.emailError&&Object(ee.jsx)(he,{children:t.emailError}),Object(ee.jsxs)(ve,{children:[Object(ee.jsx)("label",{htmlFor:"password",children:"Password"}),Object(ee.jsx)(me,{type:"password",placeholder:"Password",id:"password",value:k.password,onChange:function(e){A(Object(xe.a)(Object(xe.a)({},k),{},{password:e.target.value}))},onBlur:function(){l(!!E)}})]}),d&&Object(ee.jsx)(he,{children:"Password must be at least 7 characters long"}),t.passwordError&&Object(ee.jsx)(he,{children:t.passwordError}),Object(ee.jsxs)(oe,{children:[Object(ee.jsx)(ne,{type:"submit",disabled:I,children:"Register"}),Object(ee.jsx)(O.b,{to:"login",children:Object(ee.jsx)(ne,{children:"Go Login"})})]}),t.restError&&Object(ee.jsx)(_e,{onCloseButtonClick:function(){g(Se({restError:""}))},children:Object(ee.jsx)(he,{children:t.restError})})]})]})},Xe=function(){return Object(ee.jsxs)(Oe,{children:[Object(ee.jsx)("p",{children:"Pages not found"}),Object(ee.jsx)(O.b,{to:"/master/todos",children:Object(ee.jsx)(ne,{children:" Go Back"})})]})},Ge=f.a.div(Ie||(Ie=Object(m.a)(["\n  width: 100%;\n  height: 100%;\n  opacity: 0.5;\n  background-color: #000;\n  position: absolute;\n  top: 0;\n  left: 0;\n"]))),We=f.a.div(Te||(Te=Object(m.a)(["\n  background: none repeat scroll 0 0 #000;\n  opacity: 0.5;\n  height: 100%;\n  width: 100%;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  top: 0;\n  z-index: 9999;\n"]))),Ve=f.a.div(Le||(Le=Object(m.a)(['\n  animation: animate 1.5s linear infinite;\n  clip: rect(0, 80px, 80px, 40px);\n  height: 80px;\n  width: 80px;\n  position: absolute;\n  left: calc(50% - 40px);\n  top: calc(50% - 40px);\n\n  @keyframes animate {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(220deg);\n    }\n  }\n\n  &:after {\n    animation: animate2 1.5s ease-in-out infinite;\n    clip: rect(0, 80px, 80px, 40px);\n    content: "";\n    border-radius: 50%;\n    height: 80px;\n    width: 80px;\n    position: absolute;\n  }\n\n  @keyframes animate2 {\n    0% {\n      box-shadow: inset #b3dfd8 0 0 0 17px;\n      transform: rotate(-140deg);\n    }\n    50% {\n      box-shadow: inset #b3dfd8 0 0 0 2px;\n    }\n    100% {\n      box-shadow: inset #b3dfd8 0 0 0 17px;\n      transform: rotate(140deg);\n    }\n  }\n']))),Ye=(Ce=function(){return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(Ge,{}),Object(ee.jsx)(We,{children:Object(ee.jsx)(Ve,{})})]})},function(e){return j.a.createPortal(Object(ee.jsx)(Ce,Object(xe.a)({},e)),document.body)}),qe=function(){var e=we((function(e){return e.isLoading}));return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)(h.d,{children:[Object(ee.jsx)(h.b,{path:"/",exact:!0,children:Object(ee.jsx)(h.a,{to:"/master/todos"})}),Object(ee.jsx)(h.b,{path:"/master",exact:!0,children:Object(ee.jsx)(h.a,{to:"/master/todos"})}),Object(ee.jsx)(h.b,{path:"/master/registration",children:Object(ee.jsx)(He,{})}),Object(ee.jsx)(h.b,{path:"/master/login",children:Object(ee.jsx)(Je,{})}),Object(ee.jsx)(h.b,{path:"/master/todos",children:Object(ee.jsx)(De,{})}),Object(ee.jsx)(h.b,{path:"*",children:Object(ee.jsx)(Xe,{})})]}),e&&Object(ee.jsx)(Ye,{"data-testid":"loader"})]})},Ke=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,60)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))},Qe=n(21),Ze=n(40),$e=n(10),et=n.n($e),tt=n(4),nt=n(31),rt=function(){return{"Content-Type":"application/json;charset=utf-8",Authorization:"Bearer ".concat(localStorage.getItem("token"))}},at=function(){var e=Object(nt.a)(et.a.mark((function e(t){var n,r,a,c,o,i,s;return et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,r=t.body,a=t.headers,c=t.method,e.next=3,fetch(n,{method:c,body:r,headers:Object(xe.a)(Object(xe.a)({},rt()),a)});case 3:if((o=e.sent).ok){e.next=9;break}return e.next=7,o.json();case 7:throw i=e.sent,new Error(i.message);case 9:return e.next=11,o.text();case 11:return s=e.sent,e.abrupt("return",JSON.parse(s));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ct=function(){var e=Object(nt.a)(et.a.mark((function e(t){var n,r,a,c,o;return et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,r=t.headers,a=t.method,e.next=3,fetch(n,{method:a,headers:Object(xe.a)(Object(xe.a)({},rt()),r)});case 3:if((c=e.sent).ok){e.next=9;break}return e.next=7,c.json();case 7:throw o=e.sent,new Error(o.message);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ot=function(e,t){return at({url:e,body:t,method:"POST"})},it="https://tms-task.herokuapp.com",st=function(){return e="".concat(it,"/tasks"),at({url:e});var e},dt=function(e){return ot("".concat(it,"/tasks"),JSON.stringify(e))},ut=function(e){return t="".concat(it,"/tasks/").concat(e),at({url:t,method:"DELETE"});var t},lt=function(e,t){return n="".concat(it,"/tasks/").concat(e),r=JSON.stringify({completed:t}),at({url:n,body:r,method:"PATCH"});var n,r};!function(e){e.LoadingStart="loadingStart",e.LoadingEnd="loadingEnd"}(Pe||(Pe={}));var bt=Object(E.createAction)(Pe.LoadingStart)(),jt=Object(E.createAction)(Pe.LoadingEnd)(),pt=n(39),Ot=function e(t,n,r,a){Object(pt.a)(this,e),this.name=t,this.description=n,this.completed=r,this._id=a,this.id=void 0,this.id=a},ht=et.a.mark(vt),xt=et.a.mark(wt),mt=et.a.mark(kt),ft=et.a.mark(At),gt=et.a.mark(yt);function vt(){var e,t;return et.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(tt.d)(bt({isLoading:!0}));case 3:return n.next=5,Object(tt.b)(st);case 5:return e=n.sent,t=e.map((function(e){return new Ot(e.name,e.description,e.completed,e._id)})),n.next=9,Object(tt.d)(W(t));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,Object(tt.d)(Se({restError:String(n.t0)}));case 15:return n.prev=15,n.next=18,Object(tt.d)(jt({isLoading:!1}));case 18:return n.finish(15);case 19:case"end":return n.stop()}}),ht,null,[[0,11,15,19]])}function wt(e){var t,n,r;return et.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,Object(tt.d)(bt({isLoading:!0}));case 4:return a.next=6,Object(tt.b)(dt,t);case 6:return n=a.sent,r=new Ot(n.name,n.description,n.completed,n._id),a.next=10,Object(tt.d)(Y(r));case 10:a.next=16;break;case 12:return a.prev=12,a.t0=a.catch(1),a.next=16,Object(tt.d)(Se({restError:String(a.t0)}));case 16:return a.prev=16,a.next=19,Object(tt.d)(jt({isLoading:!1}));case 19:return a.finish(16);case 20:case"end":return a.stop()}}),xt,null,[[1,12,16,20]])}function kt(e){var t;return et.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.id,n.prev=1,n.next=4,Object(tt.d)(bt({isLoading:!0}));case 4:return n.next=6,Object(tt.b)(ut,t);case 6:return n.next=8,Object(tt.d)(K({id:t}));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(1),n.next=14,Object(tt.d)(Se({restError:String(n.t0)}));case 14:return n.prev=14,n.next=17,Object(tt.d)(jt({isLoading:!1}));case 17:return n.finish(14);case 18:case"end":return n.stop()}}),mt,null,[[1,10,14,18]])}function At(e){var t,n,r,a,c;return et.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.id,r=t.completed,o.prev=1,o.next=4,Object(tt.d)(bt({isLoading:!0}));case 4:return o.next=6,Object(tt.b)(lt,n,r);case 6:return a=o.sent,c=new Ot(a.name,a.description,a.completed,a._id),o.next=10,Object(tt.d)(Z(c));case 10:o.next=16;break;case 12:return o.prev=12,o.t0=o.catch(1),o.next=16,Object(tt.d)(Se({restError:String(o.t0)}));case 16:return o.prev=16,o.next=19,Object(tt.d)(jt({isLoading:!1}));case 19:return o.finish(16);case 20:case"end":return o.stop()}}),ft,null,[[1,12,16,20]])}function yt(){return et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(tt.e)(G,vt);case 2:return e.next=4,Object(tt.e)(V,wt);case 4:return e.next=6,Object(tt.e)(q,kt);case 6:return e.next=8,Object(tt.e)(Q,At);case 8:case"end":return e.stop()}}),gt)}var Et="https://tms-task.herokuapp.com",St=function(e){return ot("".concat(Et,"/users/login"),JSON.stringify(e))},It=function(e){return ot("".concat(Et,"/users/register"),JSON.stringify(e))},Tt=function(){return e="".concat(Et,"/users/logout"),ct({url:e,method:"POST"});var e},Lt=et.a.mark(zt),Ct=et.a.mark(Nt),Pt=et.a.mark(Ft),Ut=et.a.mark(Rt);function zt(e){var t,n,r,a,c;return et.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,o.prev=1,o.next=4,Object(tt.d)(bt({isLoading:!0}));case 4:return o.next=6,Object(tt.b)(St,t);case 6:return n=o.sent,r=n.token,a=n.user.name,localStorage.setItem("token",r),localStorage.setItem("userName",a),o.next=13,Object(tt.d)(Ue({isAuthorization:!0}));case 13:o.next=30;break;case 15:if(o.prev=15,o.t0=o.catch(1),!(c=String(o.t0)).includes("email")){o.next=23;break}return o.next=21,Object(tt.d)(ye({emailError:c}));case 21:o.next=30;break;case 23:if(!c.includes("password")){o.next=28;break}return o.next=26,Object(tt.d)(Ee({passwordError:c}));case 26:o.next=30;break;case 28:return o.next=30,Object(tt.d)(Se({restError:c}));case 30:return o.prev=30,o.next=33,Object(tt.d)(jt({isLoading:!1}));case 33:return o.finish(30);case 34:case"end":return o.stop()}}),Lt,null,[[1,15,30,34]])}function Nt(e){var t,n,r,a,c;return et.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,o.prev=1,o.next=4,Object(tt.d)(bt({isLoading:!0}));case 4:return o.next=6,Object(tt.b)(It,t);case 6:return n=o.sent,r=n.token,a=n.user.name,localStorage.setItem("token",r),localStorage.setItem("userName",a),o.next=13,Object(tt.d)(Ue({isAuthorization:!0}));case 13:o.next=30;break;case 15:if(o.prev=15,o.t0=o.catch(1),!(c=String(o.t0)).includes("email")){o.next=23;break}return o.next=21,Object(tt.d)(ye({emailError:c}));case 21:o.next=30;break;case 23:if(!c.includes("password")){o.next=28;break}return o.next=26,Object(tt.d)(Ee({passwordError:c}));case 26:o.next=30;break;case 28:return o.next=30,Object(tt.d)(Se({restError:c}));case 30:return o.prev=30,o.next=33,Object(tt.d)(jt({isLoading:!1}));case 33:return o.finish(30);case 34:case"end":return o.stop()}}),Ct,null,[[1,15,30,34]])}function Ft(){return et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(tt.d)(bt({isLoading:!0}));case 3:return e.next=5,Object(tt.b)(Tt);case 5:return localStorage.removeItem("token"),localStorage.removeItem("userName"),e.next=9,Object(tt.d)(ze({isNotAuthorization:!0}));case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),e.next=15,Object(tt.d)(Se({restError:String(e.t0)}));case 15:return e.prev=15,e.next=18,Object(tt.d)(jt({isLoading:!1}));case 18:return e.finish(15);case 19:case"end":return e.stop()}}),Pt,null,[[0,11,15,19]])}function Rt(){return et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(tt.e)(Ne,zt);case 2:return e.next=4,Object(tt.e)(Fe,Nt);case 4:return e.next=6,Object(tt.e)(Re,Ft);case 6:case"end":return e.stop()}}),Ut)}var Bt=et.a.mark(_t);function _t(){return et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(tt.a)([Object(tt.c)(yt),Object(tt.c)(Rt)]);case 2:case"end":return e.stop()}}),Bt)}var Mt=n(32),Dt=Object(E.createReducer)([]).handleAction(W,(function(e,t){return Object(Mt.a)(t.payload)})).handleAction(Y,(function(e,t){return[t.payload].concat(Object(Mt.a)(e))})).handleAction(K,(function(e,t){return e.filter((function(e){return e.id!==t.payload.id}))})).handleAction(Z,(function(e,t){return e.map((function(e){return e.id===t.payload.id&&(e.completed=t.payload.completed),e}))})),Jt=Object(E.createReducer)({}).handleAction(ye,(function(e,t){return t.payload})).handleAction(Ee,(function(e,t){return t.payload})).handleAction(Se,(function(e,t){return t.payload})),Ht=Object(E.createReducer)(!1).handleAction(bt,(function(e,t){return t.payload.isLoading})).handleAction(jt,(function(e,t){return t.payload.isLoading})),Xt=Object(E.createReducer)(!1).handleAction(Ue,(function(e,t){return t.payload.isAuthorization})),Gt=Object(E.createReducer)(!1).handleAction(ze,(function(e,t){return t.payload.isNotAuthorization})),Wt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Qe.c,Vt=Object(Qe.b)({todos:Dt,isLoading:Ht,error:Jt,isAuthorizationUser:Xt,isNotAuthorizationUser:Gt}),Yt=Object(Ze.a)(),qt=Object(Qe.d)(Vt,Wt(Object(Qe.a)(Yt)));Yt.run(_t),j.a.render(Object(ee.jsx)(l.a.StrictMode,{children:Object(ee.jsx)(O.a,{children:Object(ee.jsx)(p.a,{store:qt,children:Object(ee.jsx)(qe,{})})})}),document.getElementById("root")),Ke()}},[[59,1,2]]]);
//# sourceMappingURL=main.41bb3074.chunk.js.map